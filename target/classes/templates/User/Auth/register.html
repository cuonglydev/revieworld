<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reviewords</title>

 	<div th:replace="~{User/Fragment/element :: head}"></div>


</head>

<body>


	<div th:replace="~{User/Fragment/element :: header}"></div>

  <section class="mt-3">
    <div class="container ">
        <div class=" rounded d-flex shadow-sm p-2 bg-light align-items-center">
            <div class="col-4 large-content">
                <img class="w-100 rounded shadow-sm" src="/User/assets/photo/login-banner.jpg">
            </div>
            <div class="col-12 col-md-8">
                <div class="p-2">

                    <h1 class="fw-semibold text__orange">Đăng ký tài khoản</h1>
                    <form onsubmit="return checkPasswordsMatch();" method="post" th:action="@{/register}">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" id="floatingInput" name="email" placeholder="name@example.com" required>
                            <label for="floatingInput">Email </label>
                          </div>
                          <div class="form-floating mb-3">
                            <input type="username" class="form-control" id="username" name="username" placeholder="name@example.com" required>
                            <label for="username">Tên hiển thị </label>
                          </div>
                          <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                            <label for="floatingPassword">Mật khẩu</label>
                          </div>
                          <div class="form-floating mb-3">
                            <input type="password" class="form-control" id="confirmPassword"  placeholder="Nhập lại mật khẩu" required>
                            <label for="floatingPassword">Nhập lại mật khẩu</label>
                          </div>
                          <div class="form-floating mb-3">
                            <input type="text" class="form-control" placeholder="Mã giới thiệu" name="inviteCode" id="inviteCode" >
                            <label for="floatingPassword">Mã giới thiệu</label>
                          </div>
                      
                      
                        <button type="submit" class="btn btn__orange w-100 mb-2">Đăng ký</button>
                        <span class="d-block text-center text-secondary">Hoặc</span>
                        <a class="btn btn-light w-100 border d-flex align-items-center justify-content-center" href="/oauth2/authorization/google">
                          <img src="/User/assets/photo/google-photo.png" style="width: 20px;" class="me-2" >
                          Đăng ký bằng google</a>
                        <p class="text-center mt-2">Bạn đã có tài khoản? <a class="text__orange" href="/login">Đăng nhập ngay</a></p>
                      </form>
                </div>
            </div>
        </div>
    </div>
  </section>
  
  <div th:replace="~{User/Fragment/element :: toast}"></div>


  <div class="position-fixed top-0 end-0 p-2" style="z-index: 1000;">
    <div class="toast" id="passwordError" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <i class="fa-solid fa-triangle-exclamation me-2 text-danger"></i>
        <strong class="me-auto text-danger" >Lỗi</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body ">
        Mật khẩu và xác nhận mật khẩu không khớp.
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const refCode = urlParams.get('ref');
        if (refCode) {
            document.getElementById('inviteCode').value = refCode;
        }
    });
</script>

 <div th:replace="~{User/Fragment/element :: spinners}"></div>

<script src="/User/js/confirm-password.js"></script>
  <script src="/User/js/bootstrap.bundle.min.js"></script>
  <script src="/User/js/menu.js"></script>
</body>

</html>