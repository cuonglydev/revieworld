<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html lang="en" class="light-style layout-menu-fixed" dir="ltr"
	data-theme="theme-default" data-assets-path="/Admin/assets/"
	data-template="vertical-menu-template-free">
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

<title>ADMIN - Analytics</title>

<meta name="description" content="" />

<!-- Favicon -->
<div th:replace="~{Admin/Fragment/element :: head}"></div>
<!--  <style>
      .card {
        border-radius: 16px;
        box-shadow: 0 2px 16px rgba(0,0,0,0.08);
        border: none;
      }
      .card-header {
        background: #0d6efd;
        color: #fff;
        border-radius: 16px 16px 0 0;
        font-weight: 600;
        font-size: 1.2rem;
      }
      .form-label {
        font-weight: 500;
      }
      .form-control, .form-select {
        border-radius: 8px;
        font-size: 1.05rem;
      }
      .btn-success {
        border-radius: 8px;
        min-width: 120px;
      }
      .invalid-feedback {
        font-size: 0.95rem;
      }
    </style> -->
</head>

<body>
	<!-- Layout wrapper -->
	<div class="layout-wrapper layout-content-navbar">
		<div class="layout-container">
			<!-- Menu -->
			<div th:replace="~{Admin/Fragment/element :: menu}"></div>
			<!-- / Menu -->

			<!-- Layout container -->
			<div class="layout-page">
				<!-- Navbar -->
				<div th:replace="~{Admin/Fragment/element :: header}"></div>
				<!-- / Navbar -->

				<!-- Content wrapper -->
				<div class="content-wrapper">
					<!-- Content -->
					<div class="container-xxl flex-grow-1 container-p-y">
						<div class="row">
							<div class="col-12">
								<div class="card">
									<div class="card-header">
										<h5>Danh sách đơn hàng</h5>
									</div>
									<div class="card-body ">
									<div class="table-responsive">
									<table class="table  table-striped text-nowrap w-100" id="example">
											<thead>
												<tr>
													<th scope="col">#</th>
													<th scope="col">Tên đơn</th>
													<th scope="col">Sàn</th>
													<th scope="col">Người thuê</th>
													<th scope="col">Đã làm</th>
													<th scope="col">Giá trị</th>
													<th scope="col">Trạng thái</th>
													<th scope="col">Ngày tạo</th>
													<th scope="col">Hành động</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="item : ${orders}">
													<th scope="row" th:text="'#' + ${item.id}">1</th>
													<td><a th:text="${item.name}"
														th:href="@{/admin/order/{id} (id=${item.id})}"></a>
													</td>
													
													<td><a th:text="${item.orderType.name}"
														th:href="@{/admin/order-type/{id} (id=${item.orderType.id})}" th:if="${item.orderType != null}"></a>
														<span th:text="${item.orderTypeName}" th:if="${item.orderType == null}" ></span>
													</td>
													
													<td >
														<a th:text="${item.user.email}" th:href="@{/admin/user/{id} (id=${item.user.id})}"></a>
													</td>
														
													<td >
														<a th:text="${item.user.email}" th:href="@{/admin/user/{id} (id=${item.user.id})}"></a>
													</td>
													<td
														th:text="'$' + ${# numbers.formatDecimal(item.totalAmount, 1, 'COMMA', item.totalAmount % 1 == 0 ? 0 : 2, 'POINT')}">Mark</td>
													<td><span th:if="${item.status == 'ACTIVE'}"
														class="badge bg-primary">Đang hoạt động</span> <span
														th:if="${item.status == 'PAUSE'}"
														class="badge bg-secondary">Đang tạm dừng</span> <span
														th:if="${item.status == 'REQUEST_PAUSE'}"
														class="badge bg-dark">Yêu cầu tạm dừng</span> <span
														th:if="${item.status == 'CLOSED'}"
														class="badge bg-success">Đã hoàn thành</span></td>
													<td><span
														th:text="${#dates.format(item.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
													</td>
													<td>
														<a class="btn btn-primary " th:href="@{/admin/order/{id} (id=${item.id})}">Chi tiết</a>
													</td>
												</tr>

											</tbody>
										</table>
									</div>
										
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- / Content -->

					<div class="content-backdrop fade"></div>
				</div>
				<!-- Content wrapper -->
			</div>
			<!-- / Layout page -->
		</div>

		<!-- Overlay -->
		<div class="layout-overlay layout-menu-toggle"></div>
	</div>
	<!-- / Layout wrapper -->

	<div th:replace="~{Admin/Fragment/element :: bag}"></div>
	<div th:replace="~{Admin/Fragment/element :: footer}"></div>
	<script>
        // Bootstrap validation
        (() => {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>
</body>
</html>