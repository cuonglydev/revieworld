<!DOCTYPE html>

<!-- =========================================================
* Sneat - Bootstrap 5 HTML Admin Template - Pro | v1.0.0
==============================================================

* Product Page: https://themeselection.com/products/sneat-bootstrap-html-admin-template/
* Created by: ThemeSelection
* License: You must have a valid license purchased in order to legally use the theme for your project.
* Copyright ThemeSelection (https://themeselection.com)

=========================================================
 -->
<!-- beautify ignore:start -->
<html
  lang="en"
  class="light-style layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="/Admin/assets/"
  data-template="vertical-menu-template-free"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />

    <title>ADMIN - Analytics</title>

    <meta name="description" content="" />

    <!-- Favicon -->
   <div th:replace="~{Admin/Fragment/element :: head}"></div>
 <style>
      .card {
        border-radius: 16px;
        box-shadow: 0 2px 16px rgba(0,0,0,0.08);
        border: none;
      }
      .card-header {
        background: #0d6efd;
        color: #fff;
        border-radius: 16px 16px 0 0;
        font-weight: 600;
        font-size: 1.2rem;
      }
      .form-label {
        font-weight: 500;
      }
      .form-control, .form-select {
        border-radius: 8px;
        font-size: 1.05rem;
      }
      .btn-success {
        border-radius: 8px;
        min-width: 120px;
      }
      .invalid-feedback {
        font-size: 0.95rem;
      }
    </style>
  </head>

  <body>
     <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Menu -->
        <div th:replace="~{Admin/Fragment/element :: menu}"></div>
        <!-- / Menu -->

        <!-- Layout container -->
        <div class="layout-page">
          <!-- Navbar -->
          <div th:replace="~{Admin/Fragment/element :: header}"></div>
          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->
            <div class="container-xxl flex-grow-1 container-p-y">
              <div class="row">
                
              </div>
            </div>
            <!-- / Content -->
<h2 class="text-primary mb-4">✏️ Chỉnh sửa Content</h2>

<form th:action="@{/admin/content/update}" method="post"
      enctype="multipart/form-data"
      th:object="${content}"
      class="needs-validation"
      novalidate>
  <!-- ID ẩn để cập nhật đúng bản ghi -->
  <input type="hidden" th:field="*{id}" />

  <!-- Tiêu đề -->
  <div class="mb-3">
    <label for="title" class="form-label">Tiêu đề</label>
    <input type="text" id="title" th:field="*{title}" class="form-control" required />
  </div>

  <!-- Nội dung (Summernote) -->
  <div class="mb-3">
    <label for="summernote" class="form-label">Nội dung</label>
    <textarea id="summernote" th:field="*{content}" class="form-control" rows="6"></textarea>
  </div>

  <!-- Tác giả -->
  <div class="mb-3">
    <label for="author" class="form-label">Tác giả</label>
    <input type="text" th:field="*{author}" class="form-control" />
  </div>

  <!-- Hình ảnh -->
  <div class="mb-3">
    <label for="photo" class="form-label">Ảnh đại diện</label>
    <input type="file" name="photoFile" class="form-control" />
    <div th:if="*{photo}">
      <img th:src="@{${content.photo}}" alt="Ảnh hiện tại" class="img-thumbnail mt-2" style="max-width: 150px;">
    </div>
  </div>

  <!-- Nút submit -->
  <div class="text-end mt-4">
    <button type="submit" class="btn btn-success px-4">Lưu thay đổi</button>
  </div>
</form>
            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>
    </div>
    <!-- / Layout wrapper -->

    <div th:replace="~{Admin/Fragment/element :: bag}"></div>
    <div th:replace="~{Admin/Fragment/element :: footer}"></div>
    <script>
        // Bootstrap validation
        (() => {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
        })()
    </script>
  </body>
</html>